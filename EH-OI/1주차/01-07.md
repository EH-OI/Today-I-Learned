# 1/7

### 깃 branch 전략

브랜치를 어떻게 관리하나?

기능 개발, 버그 수정, 실험 작업을 메인과 분리

### 깃허브 플로우 전략(주로 사용)

![image.png](1%207/image.png)

- git stash
    
    작업 중에 upstream에 수정사항이 있을 때 이 수정사항을 stash로 가리고
    
    다른 사람의 코드를 pull로 가져와서 충돌 없이 코드를 병합 가능
    
    ```jsx
    git stash
    git pull upstream main
    git stash list
    git stash pop
    ```
    
    충돌 발생시
    
    충돌 수정 후 → 
    
    ```jsx
    git stash drop
    ```
    

- git status
    - untracked
        
        깃에서 한번도 버전 관리를 하지 않은 파일→ 수정 내역 추적 X
        
    - tracked
        
        한번이라도 커밋을 한 파일은 그 파일의 수정 여부를 계속 추적함
        
    - modified
        
        tracked 코드를 수정하여 변경이 발생한 상태
        
        git add 하지 않으면 커밋에 포함되지 않음
        
    - staged
        
        수정 파일을 커밋할 준비 완료
        modified 상태 코드를 git add → staged 상태
        

- reflog
    
    이전에 HEAD가 가리키던 내용들을 전부 기록(명령어로 인해 가리키고 있던 HEAD 포인터가 변경될 때마다 저장)
    
    ```jsx
    git reflog
    ```
    
    - 내용 복구(커밋 복구)
        
        ```jsx
        git reset --hard
        ```
        
    
- rebase
    
    ```jsx
    git rebase main
    ```
    
    두 개의 공통 베이스를 가진 브랜치에서 한 브랜치의 베이스를 다른 브랜치의 최신 커밋으로 베이스를 옮기는 작업
    
    - A 브랜치에서 Main 브랜치에 대한 reabse 경우)
        
        A 브랜치의 Base commit이 Main 브랜치의 Head Commit으로 리베이스됨
        
    - 이렇게 하고 Main 브랜치에서 A 브랜치를 병합하면
        - Fast Forward Merge
        - 깃 히스토리 깔끔해짐
        
- reset
    
    상태 되돌리기
    
    ```jsx
    git reset --soft    #커밋만 취소
    git reset --mixed   #커밋 + 스테이징 취소
    git reset --hard    #모든 변경을 삭제
    ```
    

- git branch & git switch
    - 브랜치 생성할때는 checkout 말고 → git branch & git switch 사용
    - checkout은 브랜치 생성, 이동, 복구를 모두 담당해서 불편

- git issue
    
    레포지토리에서 작업 항목(버그 리포트, 기능 요청, 질문 등) 추적 및 협업 도구
    
    이슈 등록 → 이슈 기반 작업 진행
    
    - milestone
        
        각 마일스톤에 이슈를 붙여 프로젝트 진행 파악 용도
        
        한 마일스톤에 여러개 이슈 등록 가능
        
    
    → 큰 프로젝트에서 주로
    

- git submodule
    
    하나의 레포지토리에서 다른 레포를 포함하고 관리할 수 있게 해주는 기능
    
    - 의존성 관리
    - 외부 프로젝트 통합
    - 공통 라이브러리를 여러 프로젝트에서 공유
    
    서브모듈은 코드 자체가 메인 저장소에 포함되지 않고, URL+특정 커밋 해시만 기록
    
    → 서브모듈 저장소가 private이면 접근 권한이 없는 사람은 404 오류
    

- 커밋 템플릿
    
    사용 권장
    
    [.gitmessage.txt](1%207/.gitmessage.txt)
    

- git prune
    
    ```jsx
    git fetch --prune
    ```
    
    필요없는 브랜치 삭제
    
    Remote에 존재하지 않는 브랜치들은 Local에 반영하여 가지치기 식으로 삭제